(self.webpackChunkrewards_catalog=self.webpackChunkrewards_catalog||[]).push([[4494],{"./app/components/pages/Cap/selectors.js":($,D,o)=>{"use strict";o.d(D,{B9:()=>r,LJ:()=>te,OF:()=>Pe,_A:()=>le,j$:()=>de,pF:()=>re});var d=o("./node_modules/immutable/dist/immutable.js"),c=o.n(d),l=o("./node_modules/lodash/isEmpty.js"),S=o.n(l),I=o("./node_modules/reselect/es/index.js"),T=o("./app/components/pages/App/constants.js");const{qO:U}=T,P=(i=(0,d.fromJS)({}))=>i.get("rewards-catalog_cap"),W=()=>createSelector(P,(i=fromJS({}))=>i.toJS()),re=()=>(0,I.Mz)(P,(i=(0,d.fromJS)({}))=>({fetchingUserdata:i.get("fetchingUserdata"),orgID:i.get("orgID")})),te=()=>(0,I.Mz)(P,(i=(0,d.fromJS)({}))=>{var E,g;const u=(E=i.get("user"))==null?void 0:E.toJS();return{user:!S()(u)&&u,currentOrgDetails:(g=i.get("currentOrgDetails"))==null?void 0:g.toJS()}}),Ie=()=>createSelector(P,(i=fromJS({}))=>{var E;return(E=i.get("user"))==null?void 0:E.toJS()}),Pe=()=>(0,I.Mz)(P,(i=(0,d.fromJS)({}))=>{var E;const g=(E=i.get("sidebarMenuData"))==null?void 0:E.toJS();let u=[];return(g==null?void 0:g.status)===U&&(g!=null&&g.data)&&(u=g.data),u}),le=()=>(0,I.Mz)(P,(i=(0,d.fromJS)({}))=>{var E;const g=(E=i.get("topbarMenuData"))==null?void 0:E.toJS();let u=[];return(g==null?void 0:g.status)===U&&(g!=null&&g.data)&&(u=g.data),u}),de=()=>(0,I.Mz)(P,(i=(0,d.fromJS)({}))=>{var E;const g=(E=i.get("supportedLocales"))==null?void 0:E.toJS(),u=new Map;return g.length&&g.forEach(({locale:O,locize_locale:J})=>{u.set(O,J)}),u}),r=()=>(0,I.Mz)(P,(i=(0,d.fromJS)({}))=>{var E,g,u;const O=(E=i.get("organizationMetadata"))==null?void 0:E.toJS();return(u=(g=O==null?void 0:O.data)==null?void 0:g.timezones)==null?void 0:u.base_timezone})},"./app/components/pages/CustomFieldsSettings/CustomFieldsListing.js":($,D,o)=>{"use strict";o.r(D),o.d(D,{CustomFieldsListing:()=>ie,default:()=>Vl});var d={};o.r(d),o.d(d,{applyFilters:()=>ft,clearData:()=>St,getAllCustomFields:()=>Ge,setCustomFieldId:()=>ht,setDataType:()=>He,setDefaultValue:()=>Ye,setDefaultValueError:()=>At,setEnumValues:()=>ke,setIsMandatory:()=>Be,setMode:()=>yt,setName:()=>pe,setScope:()=>We});var c=o("webpack/sharing/consume/default/react/react?e042"),l=o.n(c),S=o("./node_modules/classnames/index.js"),I=o.n(S),T=o("./node_modules/styled-components/dist/styled-components.browser.esm.js"),U=Object.defineProperty,P=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,te=(e,t,s)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ie=(e,t)=>{for(var s in t||(t={}))W.call(t,s)&&te(e,s,t[s]);if(P)for(var s of P(t))re.call(t,s)&&te(e,s,t[s]);return e};const le=(e,t)=>{const s=(0,T.Ay)(e)`
    ${t};
  `;return s.defaultProps=Ie({},e.defaultProps),s};var de=o("./node_modules/prop-types/index.js"),r=o.n(de),i=o("./node_modules/react-intl/lib/index.es.js"),E=o("./node_modules/react-redux/lib/index.js"),g=o("webpack/sharing/consume/default/react-router-dom/react-router-dom"),u=o("./node_modules/redux/lib/redux.js"),O=o("./node_modules/reselect/es/index.js"),J=o("./node_modules/@capillarytech/cap-ui-library/CapInput/index.js"),pt=o("./node_modules/@capillarytech/vulcan-react-sdk/utils/injectReducer.js");const Et=pt.A;var Ct=o("./node_modules/@capillarytech/vulcan-react-sdk/utils/injectSaga.js");const gt=Ct.A,ce="custom-fields-settings",w=`${ce}-listing`,M=`${ce}-create`,se=`${ce}-view`,ae="customFieldsSettings",x={LISTING:"LISTING",CREATE:"CREATE",EDIT:"EDIT",VIEW:"VIEW"},K={search:"search",scope:"scope"},m="app.components.organisms.CustomFieldsSettings",Me=`${m}/CLEAR_DATA_ON_UNMOUNT`,Re=`${m}/SET_MODE`,ue=`${m}/GET_ALL_CUSTOM_FIELDS_REQUEST`,je=`${m}/GET_ALL_CUSTOM_FIELDS_SUCCESS`,me=`${m}/GET_ALL_CUSTOM_FIELDS_FAILURE`,xe=`${m}/APPLY_FILTERS`,Ne=`${m}/SET_NAME`,Ve=`${m}/SET_SCOPE`,we=`${m}/SET_DATA_TYPE`,$e=`${m}/SET_IS_MANDATORY`,Ue=`${m}/SET_DEFAULT_VALUE`,_e=`${m}/SET_ENUM_VALUES`,ze=`${m}/SET_CUSTOM_FIELD_ID`,Je=`${m}/SET_DEFAULT_VALUE_ERROR`,St=()=>({type:Me}),yt=e=>({type:Re,payload:e}),Ge=()=>({type:ue}),ft=e=>({type:xe,payload:e}),pe=e=>({type:Ne,payload:e}),We=e=>({type:Ve,payload:e}),He=e=>({type:we,payload:e}),Be=e=>({type:$e,payload:e}),Ye=e=>({type:Ue,payload:e}),ke=e=>({type:_e,payload:e}),ht=e=>({type:ze,payload:e}),At=e=>({type:Je,payload:e}),b=(0,i.YK)({getAllCustomFieldsFailure:{id:`${m}.getAllCustomFieldsFailure`,defaultMessage:"Failed to fetch custom fields. Please try again later"},searchFilterPlaceholder:{id:`${m}.searchFilterPlaceholder`,defaultMessage:"Search custom field by name"},scopeFilterOptionsTitle:{id:`${m}.scopeFilterOptions`,defaultMessage:`{scope, select,
    REWARD {Catalog item creation}
    ISSUE_REWARD {Catalog item issual}
    CATALOGUE_PROMOTION {Catalog promotion}
    other {''}
    }`},scopeFilterOptionsTooltipInfo:{id:`${m}.scopeFilterOptionsTooltipInfo`,defaultMessage:`{scope, select,
    REWARD {To be provided by design}
    ISSUE_REWARD {To be provided by design}
    CATALOGUE_PROMOTION {To be provided by design}
    other {''}
    }`},mandatoryRowLabel:{id:`${m}.mandatoryRowLabel`,defaultMessage:`{isMandatory, select,
    true {Yes}
    other {No}
    }`},defaultValueRowLabel:{id:`${m}.defaultValueRowLabel`,defaultMessage:`{isDefaultValueDefined, select,
    true {{defaultValue}}
    other {-}
    }`},customFieldsListingDescription:{id:`${m}.customFieldsListingDescription`,defaultMessage:"Add metadata fields for your catalog items"},customFieldSlideBoxHeader:{id:`${m}.customFieldSlideBoxHeader`,defaultMessage:`{mode, select,
    CREATE {New custom field}
    EDIT {Edit custom field}
    VIEW {View custom field}
    other {''}
    }`},scopeDescription:{id:`${m}.scopeDescription`,defaultMessage:"This custom field can only be used in the selected scope"},selectDataType:{id:`${m}.selectDataType`,defaultMessage:"Select data type"},selectScope:{id:`${m}.selectScope`,defaultMessage:"Select scope"},isCustomFieldMandatory:{id:`${m}.isCustomFieldMandatory`,defaultMessage:"Is this custom field mandatory?"},defaultValueDescription:{id:`${m}.defaultValueDescription`,defaultMessage:"It will be used as the pre-defined value of this custom field"},secondaryFooterCta:{id:`${m}.secondaryFooterCta`,defaultMessage:`{mode, select,
    CREATE {Cancel}
    EDIT {Cancel}
    VIEW {Edit custom field}
    other {''}
    }`},defaultValueStringError:{id:`${m}.defaultValueStringError`,defaultMessage:"The default value cannot be more than 255 characters"}});var z=o("./node_modules/immutable/dist/immutable.js"),y=o("./app/components/pages/App/constants.js");const vt=(e=[],t={})=>e==null?void 0:e.filter(s=>{var a,n;const{scope:C,search:A}=t,v=C?(s==null?void 0:s.scope)===C:!0,h=A?(n=(a=s==null?void 0:s.name)==null?void 0:a.toLowerCase())==null?void 0:n.includes(A.toLowerCase()):!0;return v&&h}),Ke=(0,z.fromJS)({mode:x.LISTING,allCustomFields:[],getAllCustomFieldsStatus:y.S3,filteredCustomFields:[],name:void 0,scope:y.hx.REWARD,dataType:void 0,defaultValue:void 0,isMandatory:!1,enumValues:[],customFieldId:"",showDefaultValueError:!1}),Tt=(e=Ke,t={})=>{var s;switch(t==null?void 0:t.type){case Me:return Ke;case Re:return e.set("mode",t==null?void 0:t.payload);case ue:return e.set("getAllCustomFieldsStatus",y.S3);case je:return e.set("getAllCustomFieldsStatus",y.qO).set("allCustomFields",t==null?void 0:t.payload).set("filteredCustomFields",t==null?void 0:t.payload);case me:return e.set("getAllCustomFieldsStatus",y.VM);case xe:const a=(s=e.toJS())==null?void 0:s.allCustomFields;return e.set("filteredCustomFields",vt(a,t==null?void 0:t.payload));case Ne:return e.set("name",t==null?void 0:t.payload);case Ve:return e.set("scope",t==null?void 0:t.payload);case we:return e.set("dataType",t==null?void 0:t.payload);case $e:return e.set("isMandatory",t==null?void 0:t.payload);case Ue:return e.set("defaultValue",t==null?void 0:t.payload);case _e:return e.set("enumValues",t==null?void 0:t.payload);case ze:return e.set("customFieldId",t==null?void 0:t.payload);case Je:return e.set("showDefaultValueError",t==null?void 0:t.payload);default:return e}};var H=o("./node_modules/redux-saga/es/effects.js"),Qe=o("./app/services/api.js");function*Ft(){var e;try{const t=yield(0,H.T1)(Qe.If);if(Qe.sL(t)){const s=(e=t==null?void 0:t.result)==null?void 0:e.data;yield(0,H.yJ)({type:je,payload:s})}else yield(0,H.yJ)({type:me,error:t.message||b.getAllCustomFieldsFailure.defaultMessage})}catch(t){yield(0,H.yJ)({type:me,error:t})}}function*Dt(){yield(0,H.p8)(ue,Ft)}function*Ot(){yield(0,H.Q7)([Dt()])}var bt=Object.defineProperty,Xe=Object.getOwnPropertySymbols,Lt=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable,Ze=(e,t,s)=>t in e?bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Pt=(e,t)=>{for(var s in t||(t={}))Lt.call(t,s)&&Ze(e,s,t[s]);if(Xe)for(var s of Xe(t))It.call(t,s)&&Ze(e,s,t[s]);return e};const Q=(e=(0,z.fromJS)({}))=>e.get(ae,(0,z.fromJS)({})),B=()=>(0,O.Mz)(Q,(e=(0,z.fromJS)({}))=>{const{mode:t}=e.toJS();return t}),qe=()=>(0,O.Mz)(Q,(e=(0,z.fromJS)({}))=>{const{allCustomFields:t,getAllCustomFieldsStatus:s,filteredCustomFields:a}=e.toJS();return{allCustomFields:t,getAllCustomFieldsStatus:s,filteredCustomFields:a}}),Ee=()=>(0,O.Mz)(Q,(e=(0,z.fromJS)({}))=>{const t=e.toJS().name,s=e.toJS().scope,a=e.toJS().dataType,n=e.toJS().defaultValue,C=e.toJS().isMandatory,A=e.toJS().enumValues,v=e.toJS().showDefaultValueError;return{name:t,scope:s,dataType:a,defaultValue:n,isMandatory:C,enumValues:A,showDefaultValueError:v}}),Mt=()=>(0,O.Mz)(Q,(e=(0,z.fromJS)({}))=>{const{filteredCustomFields:t,customFieldId:s}=e.toJS(),a=t==null?void 0:t.find(({id:n})=>n===s);return Pt({},a)}),Rt=()=>(0,O.Mz)(Q,(e=(0,z.fromJS)({}))=>{const{enumValues:t}=e.toJS();return t==null?void 0:t.map(a=>({key:a==null?void 0:a.id,label:a==null?void 0:a.tag,value:a==null?void 0:a.tag}))});var L=o("./node_modules/@capillarytech/cap-ui-library/styled/variables.js");const jt=(0,T.AH)`
  .${w}-filters {
    margin: ${L.mS} 0;
    .${w}-filters-search {
      width: 23.143rem;
      margin-right: ${L.Ar};
    }
    .${w}-filters-scope {
    }
    .${w}-filters-scope-tag {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      margin-top: ${L.Ar};
      .${w}-filters-scope-tag-clear-all {
        margin-left: auto;
      }
    }
  }
  .quick-actions-container {
    display: none;
  }
  .hovered-row {
    .quick-actions-container {
      display: flex;
    }
  }
  .${M}-content {
    .title-desc-container {
      div:nth-child(1){
        font-size: ${L.Km} !important;
        font-weight: ${L.hE} !important;
        margin-bottom: ${L.De} !important;
      }
      div:nth-child(2) {
        font-size: ${L.KT} !important;
        margin-top: ${L.RD};
        margin-bottom: ${L.De} !important;
      }
    }
    .cap-select-v2{
      width: 100%;
    }
    .${M}-content-box {
      margin-bottom: ${L.mS};
      .${M}-enum-values {
          width: 100%;
        }
      .${M}-default-value-container {
        .${M}-default-value-string {
          textarea{ //@TODO: revisit this -> not working
            min-height: 40px !important;
            max-height: 400px !important;
            height: auto !important;
          }
        }
      }
    } 
    .${M}-default-value-enum {
      .cap-select-v2{
        width: 19.714rem !important;
      }
    } 
  }
  .${se}-content {
    .${se}-mandatory-switch {
      margin-bottom: ${L.mS};
    }
  }
`;var xt=o("./node_modules/lodash/debounce.js"),et=o.n(xt),f=o("./node_modules/@capillarytech/cap-ui-library/CapRow/index.js"),Nt=o("./node_modules/@capillarytech/cap-ui-library/CapSelectFilter/index.js"),Vt=o("./node_modules/@capillarytech/cap-ui-library/CapTag/index.js"),wt=o("./node_modules/@capillarytech/cap-ui-library/CapLink/index.js"),X=o("./node_modules/@capillarytech/cap-ui-library/CapIcon/index.js"),$t=o("./node_modules/moment-timezone/index.js"),Ut=o.n($t);const _t=(e,t)=>!e||!(t!=null&&t.label)?"Conversion to org timezone failed":Ut()(e).tz(t.label).format("DD MMM YYYY");var p=o("./app/components/pages/Cap/messages.js"),tt=o("./node_modules/@capillarytech/cap-ui-library/CapHeader/index.js");const Z=(e="",t="auto",s="",a="")=>({dataIndex:e,key:e,width:t,title:l().createElement(f.A,{className:"settings-table-column-header-attribute-container"},l().createElement(tt.A,{size:"small",title:s,description:a}))});var Y=o("./node_modules/@capillarytech/cap-ui-library/CapTooltip/index.js");const zt=(0,T.AH)`
  .quick-actions-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${L.De};
    .quick-actions-icon {
      width: ${L.gu};
      height: ${L.gu};
      text-align: center;
      border-radius: 50%;
      font-size: ${L.xG};
      padding: 0.429rem;
      gap: 0.714rem;
      &:hover {
        background-color: ${L.Dr};
      }
    }
  }
`,Ce=({intl:{formatMessage:e},className:t,rowData:s,handleStopPropagation:a,handleOnEditClick:n,handleOnDeleteClick:C})=>l().createElement(f.A,{className:t},l().createElement(f.A,{className:"quick-actions-container",onClick:a},l().createElement(Y.A,{title:e(p.A.edit),overlayStyle:{zIndex:99}},l().createElement(X.A,{type:"edit",size:"m","data-testid":"edit",className:"quick-actions-icon",onClick:()=>n(s)})),l().createElement(Y.A,{title:e(p.A.delete),overlayStyle:{zIndex:99}},l().createElement(X.A,{type:"delete",size:"m","data-testid":"delete",className:"quick-actions-icon",onClick:()=>C(s)}))));Ce.propTypes={intl:i.Hu.isRequired,className:r().string,rowData:r().object,handleStopPropagation:r().func,handleOnEditClick:r().func,handleOnDeleteClick:r().func},Ce.defaultProps={className:"",rowData:{},handleStopPropagation:()=>{},handleOnEditClick:()=>{},handleOnDeleteClick:()=>{}};const Jt=(0,i.j4)(le(Ce,zt));var k=o("./node_modules/@capillarytech/cap-ui-library/CapLabel/index.js"),Gt=Object.defineProperty,oe=Object.getOwnPropertySymbols,lt=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,at=(e,t,s)=>t in e?Gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,ge=(e,t)=>{for(var s in t||(t={}))lt.call(t,s)&&at(e,s,t[s]);if(oe)for(var s of oe(t))st.call(t,s)&&at(e,s,t[s]);return e},Wt=(e,t)=>{var s={};for(var a in e)lt.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&oe)for(var a of oe(e))t.indexOf(a)<0&&st.call(e,a)&&(s[a]=e[a]);return s};const ot=(e=>{const t=s=>{var a=s,{text:n,maxLength:C,tooltipProps:A={}}=a,v=Wt(a,["text","maxLength","tooltipProps"]);const h=(n==null?void 0:n.length)>C,N=h?`${n==null?void 0:n.slice(0,C)}...`:n;return h?l().createElement(Y.A,ge({title:n},A),l().createElement(e,ge({},v),N)):l().createElement(e,ge({},v),n)};return t.displayName=`withEllipsis(${e.displayName||e.name||"Component"})`,t.propTypes={text:r().string,maxLength:r().number.isRequired,tooltipProps:r().object},t.defaultProps={text:"",tooltipProps:{}},t})(k.A),Se=({title:e,description:t,maxLength:s})=>l().createElement(f.A,{className:"settings-table-column-row-attribute-container"},l().createElement(ot,{className:"row-attribute-title",text:e,maxLength:s,type:"label16"}),t&&l().createElement(ot,{text:t,maxLength:s}));Se.propTypes={title:r().string,description:r().string,maxLength:r().number},Se.defaultProps={title:"",description:"",maxLength:20};const q=Se;var Ht=o("./node_modules/@capillarytech/cap-ui-library/CapTooltipWithInfo/index.js");const ye=({intl:{formatMessage:e},scope:t,showInfoIcon:s,isCatalogPromotionDisabled:a})=>l().createElement(Y.A,{title:a&&e(p.A.comingSoon)},l().createElement(f.A,{type:"flex",align:"middle"},l().createElement(k.A,{type:"label15"},e(b.scopeFilterOptionsTitle,{scope:t})),s&&l().createElement(Ht.A,{title:e(b.scopeFilterOptionsTooltipInfo,{scope:t})})));ye.propTypes={intl:i.Hu.isRequired,scope:r().string,showInfoIcon:r().bool,isCatalogPromotionDisabled:r().bool},ye.defaultProps={scope:"",showInfoIcon:!0,isCatalogPromotionDisabled:!1};const fe=(0,i.j4)(ye),Bt=(e=!0,t=!1)=>[{label:l().createElement(fe,{scope:y.hx.REWARD}),value:y.hx.REWARD,key:y.hx.REWARD},{label:l().createElement(fe,{scope:y.hx.ISSUE_REWARD}),value:y.hx.ISSUE_REWARD,key:y.hx.ISSUE_REWARD},{label:l().createElement(fe,{scope:y.hx.ISSUE_REWARD,showInfoIcon:e,isCatalogPromotionDisabled:t}),value:y.hx.CATALOGUE_PROMOTION,key:y.hx.CATALOGUE_PROMOTION,disabled:t}],Yt=e=>[Z("name","23.55%",e(p.A.name),e(p.A.dataType)),Z("mandatory","10.87%",e(p.A.mandatory)),Z("scope","14.49%",e(p.A.scope)),Z("defaultValue","26.63%",e(p.A.defaultValue)),Z("lastUpdatedOn","14.49%",e(p.A.lastUpdatedOn),e(p.A.updatedBy)),{dataIndex:"quickActions",key:"quickActions",width:"9.96%"}],kt=(e,t=[],s)=>t==null?void 0:t.map(a=>({id:`rowId_${a==null?void 0:a.id}`,key:a==null?void 0:a.id,name:l().createElement(q,{title:a==null?void 0:a.name,description:e(p.A.dataTypes,{dataType:a==null?void 0:a.dataType})}),mandatory:l().createElement(q,{title:e(b.mandatoryRowLabel,{isMandatory:a==null?void 0:a.isMandatory})}),scope:l().createElement(q,{title:e(b.scopeFilterOptionsTitle,{scope:a==null?void 0:a.scope})}),defaultValue:l().createElement(q,{title:e(b.defaultValueRowLabel,{isDefaultValueDefined:!!(a!=null&&a.defaultValue),defaultValue:a==null?void 0:a.defaultValue})}),lastUpdatedOn:l().createElement(q,{title:_t(a==null?void 0:a.lastUpdatedOn,s),description:a==null?void 0:a.lastUpdatedBy}),quickActions:l().createElement(Jt,null)})),Jl=e=>[{label:e(globalMessages.boolean),value:CUSTOM_FIELD_DATA_TYPES.BOOLEAN,key:CUSTOM_FIELD_DATA_TYPES.BOOLEAN},{label:e(globalMessages.dateAndTime),value:CUSTOM_FIELD_DATA_TYPES.DATE,key:CUSTOM_FIELD_DATA_TYPES.DATE},{label:e(globalMessages.enum),value:CUSTOM_FIELD_DATA_TYPES.ENUM,key:CUSTOM_FIELD_DATA_TYPES.ENUM},{label:e(globalMessages.number),value:CUSTOM_FIELD_DATA_TYPES.INTEGER,key:CUSTOM_FIELD_DATA_TYPES.INTEGER},{label:e(globalMessages.string),value:CUSTOM_FIELD_DATA_TYPES.STRING,key:CUSTOM_FIELD_DATA_TYPES.STRING}];var Kt=Object.defineProperty,Qt=Object.defineProperties,Xt=Object.getOwnPropertyDescriptors,nt=Object.getOwnPropertySymbols,Zt=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable,it=(e,t,s)=>t in e?Kt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,el=(e,t)=>{for(var s in t||(t={}))Zt.call(t,s)&&it(e,s,t[s]);if(nt)for(var s of nt(t))qt.call(t,s)&&it(e,s,t[s]);return e},tl=(e,t)=>Qt(e,Xt(t));const he=({intl:{formatMessage:e},actions:t})=>{const[s,a]=(0,c.useState)(""),[n,C]=(0,c.useState)(()=>({[K.search]:"",[K.scope]:""})),A=(0,c.useCallback)(et()(R=>t.applyFilters(R),300),[]),v=(R,_)=>{const j=tl(el({},n),{[R]:_});C(j),A(j)},h=R=>{let _=R.target.value;a(_),v(K.search,_)},N=R=>v(K.scope,R==null?void 0:R.key),V=()=>v(K.scope,"");return l().createElement(f.A,{className:`${w}-filters`},l().createElement(f.A,{type:"flex",align:"middle"},l().createElement(J.A.Search,{className:`${w}-filters-search`,placeholder:e(b.searchFilterPlaceholder),allowClear:!0,value:s,onChange:h}),l().createElement(Nt.A,{className:`${w}-filters-scope`,placeholder:e(p.A.scope),showBadge:!0,data:Bt(),getPopupContainer:R=>R,overlayClassName:"",selectedValue:n==null?void 0:n.scope,onSelect:N})),(n==null?void 0:n.scope)&&l().createElement(f.A,{className:`${w}-filters-scope-tag`},l().createElement(Vt.A,{key:n==null?void 0:n.scope,closable:!0,onClose:V},e(b.scopeFilterOptionsTitle,{scope:n==null?void 0:n.scope})),l().createElement(wt.A,{className:`${w}-filters-scope-tag-clear-all`,title:e(p.A.removeAll),suffix:l().createElement(X.A,{size:"s",type:"delete"}),onClick:V})))};he.propTypes={intl:i.Hu.isRequired,actions:r().object},he.defaultProps={actions:{}};function ll(e){return{actions:(0,u.bindActionCreators)(d,e)}}const sl=(0,E.connect)(null,ll),Gl=(0,u.compose)(sl)((0,i.j4)(he));var al=o("./node_modules/@capillarytech/cap-ui-library/CapTable/CapTable.js");const ol=(e=342,t=225)=>{const s=()=>Math.max(window.innerHeight-e,t),[a,n]=(0,c.useState)(s);return(0,c.useEffect)(()=>{const C=()=>n(s());return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),a};var nl=o("./app/components/pages/Cap/selectors.js");const Ae=({intl:{formatMessage:e},actions:t,getAllCustomFieldsData:{getAllCustomFieldsStatus:s,filteredCustomFields:a},orgTimezone:n})=>{const[C,A]=(0,c.useState)(null),v=s===y.S3,h=j=>`pointer-cursor ${(j==null?void 0:j.key)===C?"hovered-row":""}`,N=ol(342,225),V=j=>{A(j==null?void 0:j.key),t.setCustomFieldId(j==null?void 0:j.key)},R=()=>{A(null)},_=()=>{t.setMode(x.VIEW)};return l().createElement(al.A,{id:ae,className:`${w}-table`,columns:Yt(e),dataSource:kt(e,a,n),scroll:{y:N},loading:v,onRow:j=>({onMouseEnter:()=>V(j),onMouseLeave:R,onClick:_}),rowClassName:h,infinteScroll:!0})};Ae.propTypes={intl:i.Hu.isRequired,actions:r().object},Ae.defaultProps={actions:{},getAllCustomFieldsData:{getAllCustomFieldsStatus:"",filteredCustomFields:[]}};const il=(0,O.j8)({mode:B(),getAllCustomFieldsData:qe(),orgTimezone:(0,nl.B9)()});function rl(e){return{actions:(0,u.bindActionCreators)(d,e)}}const dl=(0,E.connect)(il,rl),Hl=(0,u.compose)(dl)((0,i.j4)(Ae));var ee=o("./node_modules/@capillarytech/cap-ui-library/CapButton/index.js"),rt=o("./node_modules/@capillarytech/cap-ui-library/CapSlideBox/index.js"),dt=o("./node_modules/@capillarytech/cap-ui-library/CapHeading/index.js"),cl=o("./node_modules/lodash/isNil.js"),ul=o.n(cl),ml=o("./node_modules/@capillarytech/cap-ui-library/CapRadioGroup/index.js"),pl=o("./node_modules/@capillarytech/cap-ui-library/CapSelect/index.js");const ve=({intl:{formatMessage:e},actions:t,mode:s,customFieldMeta:{dataType:a,defaultValue:n,isMandatory:C,showDefaultValueError:A},enumOptions:v})=>{const[h,N]=(0,c.useState)(n),V=ul()(h);(0,c.useEffect)(()=>{R(h)},[h]);const R=(0,c.useCallback)(F=>{_(F,a)},[a]),_=(0,c.useMemo)(()=>et()((F,wl)=>{t.setDefaultValue(F),wl===y.GW.STRING&&t.setDefaultValueError((F==null?void 0:F.length)>255)},300),[]),j=F=>{N(F.target.value)},ct=F=>{N(F.target.value)},Le=F=>{N(F.target.value)},ut=F=>{N(F)},G=F=>{N(F)},Ql=F=>{N(F)},mt=F=>{N(void 0)};return l().createElement(f.A,{className:`${M}-default-value-container`},a===y.GW.STRING&&l().createElement(f.A,null,l().createElement(J.A.TextArea,{className:I()(`${M}-default-value-string`,{"text-area-error":A}),autocomplete:"off",value:h,onChange:j,placeholder:e(p.A.dataTypesPlaceholder,{dataType:a}),maxLength:A&&255}),A&&l().createElement(k.A,{className:"error-label"},e(b.defaultValueStringError))),a===y.GW.INTEGER&&l().createElement(J.A,{className:`${M}`,placeholder:e(p.A.dataTypesPlaceholder,{dataType:a}),value:h,onChange:ct}),a===y.GW.BOOLEAN&&l().createElement(f.A,{type:"flex",align:"middle",justify:"space-between"},l().createElement(ml.A,{value:h,onChange:Le,options:[{label:e(p.A.true),value:!0},{label:e(p.A.false),value:!1}]}),l().createElement(f.A,{disabled:V},l().createElement(Y.A,{title:!V&&e(p.A.reset)},l().createElement(X.A,{type:"refreshCircle",className:"reset-icon",size:"s",onClick:mt,disabled:V})))),a===y.GW.ENUM&&l().createElement(f.A,{type:"flex",align:"middle",justify:"space-between"},l().createElement(pl.A,{className:`${M}-default-value-enum`,placeholder:e(p.A.dataTypesPlaceholder,{dataType:a}),showArrow:!0,options:v,value:h,onChange:ut}),l().createElement(f.A,{disabled:V},l().createElement(Y.A,{title:!V&&e(p.A.reset)},l().createElement(X.A,{type:"refreshCircle",className:"reset-icon",size:"s",onClick:mt,disabled:V})))),a===y.GW.DATE&&l().createElement(l().Fragment,null))};ve.propTypes={intl:i.Hu.isRequired,actions:r().object,mode:r().string,customFieldMeta:r().object,enumOptions:r().array},ve.defaultProps={actions:{},mode:x.CREATE,customFieldMeta:{},enumOptions:[]};const El=(0,O.j8)({mode:B(),customFieldMeta:Ee(),enumOptions:Rt()});function Cl(e){return{actions:(0,u.bindActionCreators)(d,e)}}const gl=(0,E.connect)(El,Cl),Bl=(0,u.compose)(gl)((0,i.j4)(ve)),Yl={NAME:"setName",SCOPE:"setScope",DATA_TYPE:"setDataType",IS_MANDATORY:"setIsMandatory",DEFAULT_VALUE:"setDefaultValue",ENUM_VALUES:"setEnumValues"},Te=({intl:{formatMessage:e},actions:{setName:t,setScope:s,setDataType:a,setIsMandatory:n,setDefaultValue:C,setEnumValues:A},mode:v,customFieldMeta:{name:h,scope:N,dataType:V,defaultValue:R,isMandatory:_,enumValues:j}})=>{console.log({name:h});const[ct,Le]=(0,c.useState)(""),ut=G=>{Le(G.target.value)};return l().createElement(f.A,{className:`${M}-content`},l().createElement(f.A,{className:`${M}-content-box`},l().createElement(tt.A,{title:e(p.A.name),size:"small"}),l().createElement(J.A,{className:`${M}-name-input`,placeholder:e(p.A.enterName),value:h,onChange:G=>{console.log(G.target.value),t(G.target.value),G.preventDefault(),G.stopPropagation()}})))};Te.propTypes={intl:i.Hu.isRequired,actions:r().object,mode:r().string},Te.defaultProps={actions:{},mode:x.CREATE};const Sl=(0,O.j8)({mode:B(),customFieldMeta:Ee()});function yl(e){return{actions:(0,u.bindActionCreators)({setName:pe,setScope:We,setDataType:He,setIsMandatory:Be,setDefaultValue:Ye,setEnumValues:ke},e)}}const fl=(0,E.connect)(Sl,yl),hl=(0,u.compose)(fl)((0,i.j4)(Te)),Fe=({intl:{formatMessage:e},actions:t,mode:s,getAllCustomFieldsData:{getAllCustomFieldsStatus:a,filteredCustomFields:n}})=>{const C=s===x.LISTING,A=()=>{t.setMode(x.CREATE)},v=()=>{t.setMode(x.LISTING)},h=()=>{};return l().createElement(l().Fragment,null,C?l().createElement(ee.A,{type:"primary",onClick:A},e(b.customFieldSlideBoxHeader,{mode:x.CREATE})):l().createElement(rt.A,{className:I()(`${M}-slide-box`,"settings-ui-slide-box"),show:!0,header:l().createElement(dt.A,{type:"h2"},e(b.customFieldSlideBoxHeader,{mode:s})),content:l().createElement(hl,null),footer:l().createElement(f.A,null,l().createElement(ee.A,{type:"primary",onClick:h},e(p.A.done)),l().createElement(ee.A,{type:"secondary",onClick:v},e(b.secondaryFooterCta,{mode:s}))),size:"size-s",handleClose:v}))};Fe.propTypes={intl:i.Hu.isRequired,actions:r().object,mode:r().string,getAllCustomFieldsData:r().object},Fe.defaultProps={actions:{},mode:x.LISTING,getAllCustomFieldsData:{getAllCustomFieldsStatus:"",filteredCustomFields:[]}};const Al=(0,O.j8)({mode:B(),getAllCustomFieldsData:qe()});function vl(e){return{actions:(0,u.bindActionCreators)(d,e)}}const Tl=(0,E.connect)(Al,vl),kl=(0,u.compose)(Tl)((0,i.j4)(Fe));var Fl=o("./node_modules/@capillarytech/cap-ui-library/CapSwitch/index.js");const De=({label:e,value:t})=>l().createElement(f.A,{className:"settings-view-label-value-container"},l().createElement(k.A,{className:"settings-view-label",type:"label18"},e),l().createElement(k.A,{className:"settings-view-value",type:"label15"},t));De.propTypes={label:r().string,value:r().string},De.defaultProps={label:"",value:""};const ne=De,Oe=({intl:{formatMessage:e},selectedCustomFieldMeta:{name:t,scope:s,dataType:a,defaultValue:n,isMandatory:C,enumValues:A}})=>l().createElement(f.A,{className:`${se}-content`},l().createElement(ne,{label:e(p.A.name),value:t}),l().createElement(ne,{label:e(p.A.scope),value:e(b.scopeFilterOptionsTitle,{scope:s})}),l().createElement(ne,{label:e(p.A.dataType),value:e(p.A.dataTypes,{dataType:a})}),l().createElement(f.A,{type:"flex",align:"middle",justify:"space-between",className:`${se}-mandatory-switch`},l().createElement(k.A,{type:"label18"},e(b.isCustomFieldMandatory)),l().createElement(Fl.A,{checked:C,disabled:!0})),!!n&&l().createElement(ne,{label:e(p.A.defaultValue),value:n}));Oe.propTypes={intl:i.Hu.isRequired,selectedCustomFieldMeta:r().object},Oe.defaultProps={selectedCustomFieldMeta:{}};const Dl=(0,O.j8)({selectedCustomFieldMeta:Mt()}),Ol=(0,E.connect)(Dl,null),bl=(0,u.compose)(Ol)((0,i.j4)(Oe)),be=({intl:{formatMessage:e},actions:t,mode:s})=>{const a=()=>{t.setMode(x.LISTING)},n=()=>{t.setMode(x.EDIT)};return l().createElement(rt.A,{className:I()(`${M}-slide-box`,"settings-ui-slide-box"),show:!0,header:l().createElement(dt.A,{type:"h2"},e(b.customFieldSlideBoxHeader,{mode:s})),content:l().createElement(bl,null),footer:l().createElement(f.A,null,l().createElement(ee.A,{type:"primary",onClick:a},e(p.A.done)),l().createElement(ee.A,{type:"secondary",onClick:n},e(b.secondaryFooterCta,{mode:s}))),size:"size-s",handleClose:a})};be.propTypes={intl:i.Hu.isRequired,actions:r().object,mode:r().string},be.defaultProps={actions:{},mode:x.LISTING};const Ll=(0,O.j8)({mode:B()});function Il(e){return{actions:(0,u.bindActionCreators)(d,e)}}const Pl=(0,E.connect)(Ll,Il),Kl=(0,u.compose)(Pl)((0,i.j4)(be)),ie=({intl:{formatMessage:e},className:t,actions:{getAllCustomFields:s,setName:a},name:n,mode:C})=>{const A=C===x.VIEW;return(0,c.useEffect)(()=>{s()},[]),console.log(n==null?void 0:n.name),l().createElement(l().Fragment,null,l().createElement(J.A,{value:n==null?void 0:n.name,onChange:v=>a(v.target.value)}))};ie.propTypes={intl:i.Hu.isRequired,className:r().string,actions:r().object,mode:r().string},ie.defaultProps={className:"",actions:{},mode:x.LISTING};const Ml=(0,O.j8)({mode:B(),name:Ee()});function Rl(e){return{actions:(0,u.bindActionCreators)({getAllCustomFields:Ge,setName:pe},e)}}const jl=Et({key:ae,reducer:Tt}),xl=gt({key:ae,saga:Ot}),Nl=(0,E.connect)(Ml,Rl),Vl=(0,u.compose)(jl,xl,Nl,g.withRouter)((0,i.j4)(le(ie,jt)))},"./node_modules/clsx/dist/clsx.js":$=>{function D(d){var c,l,S="";if(typeof d=="string"||typeof d=="number")S+=d;else if(typeof d=="object")if(Array.isArray(d))for(c=0;c<d.length;c++)d[c]&&(l=D(d[c]))&&(S&&(S+=" "),S+=l);else for(c in d)d[c]&&(S&&(S+=" "),S+=c);return S}function o(){for(var d,c,l=0,S="";l<arguments.length;)(d=arguments[l++])&&(c=D(d))&&(S&&(S+=" "),S+=c);return S}$.exports=o,$.exports.clsx=o},"./node_modules/dom-helpers/cjs/canUseDOM.js":($,D)=>{"use strict";D.__esModule=!0,D.default=void 0;var o=!!(typeof window!="undefined"&&window.document&&window.document.createElement);D.default=o,$.exports=D.default},"./node_modules/dom-helpers/cjs/scrollbarSize.js":($,D,o)=>{"use strict";var d=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");D.__esModule=!0,D.default=S;var c=d(o("./node_modules/dom-helpers/cjs/canUseDOM.js")),l;function S(I){if((!l&&l!==0||I)&&c.default){var T=document.createElement("div");T.style.position="absolute",T.style.top="-9999px",T.style.width="50px",T.style.height="50px",T.style.overflow="scroll",document.body.appendChild(T),l=T.offsetWidth-T.clientWidth,document.body.removeChild(T)}return l}$.exports=D.default},"./node_modules/lodash/throttle.js":($,D,o)=>{var d=o("./node_modules/lodash/debounce.js"),c=o("./node_modules/lodash/isObject.js"),l="Expected a function";function S(I,T,U){var P=!0,W=!0;if(typeof I!="function")throw new TypeError(l);return c(U)&&(P="leading"in U?!!U.leading:P,W="trailing"in U?!!U.trailing:W),d(I,T,{leading:P,maxWait:T,trailing:W})}$.exports=S}}]);

//# sourceMappingURL=4494.b36ceb2dcda88aa20b0f.chunk.js.map